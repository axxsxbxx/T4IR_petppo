{% extends 'basesimple.html' %}

{% block headcontent %}

{% endblock %}

{% block mycss %}

{% endblock %}

{% block mycontent %}
    {% load static %}
    <script src="{% static 'js/markerclusterer.js' %}"></script>
    <script src="{% static 'js/animal1.js' %}"></script>
    <script defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyClwko6XZKvMTk6PKsc-2JZWll06-UF-9g&callback=initMap">
    </script>
    <div id="map" style="width:600px;height:400px;margin:auto;text-align:center;"></div>
    <script>
        var markers = [];
        function initMap() {
            var map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: 37.566, lng: 126.978},
                zoom: 10,
                mapTypeId: "roadmap"
            });

            for (var i=0;i<animal.length;i++){
                if (animal[i].state == "정상"){
                    var latLng = new google.maps.LatLng(animal[i].lat,animal[i].lng);
                    var marker = new google.maps.Marker({
                        position: latLng,
                    });
                    markers.push(marker);
                 }
            }
            var markerCluster = new MarkerClusterer(map, markers, {gridSize: 50});
        }

    </script>


{% endblock %}